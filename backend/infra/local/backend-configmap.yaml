####################################
apiVersion: v1
kind: ConfigMap
metadata:
  name: har-backend-config
  namespace: har-local
data:
  # --- LLM (OpenAI) ---
  # Options: openai, ollama, auto
  LLM_PROVIDER: openai
  OPENAI_API_KEY: "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"  # Replace with your actual key
  OPENAI_MODEL: gpt-4o-mini  # Fast and cost-effective
  
  # --- LLM (Ollama) - Disabled but kept for fallback ---
  # Uncomment to use Ollama instead or set LLM_PROVIDER to "auto" for fallback
  # OLLAMA_BASE_URL: http://detourist-ollama:11434
  # OLLAMA_MODEL: llama3.2:3b-instruct-q4_K_M

  # --- Redis (cache) ---
  REDIS_URL: redis://har-redis:6379/0

  # --- CORS ---
  ALLOW_ORIGINS: "*"

  # --- Geocoding/routing knobs ---
  MB_ISO_MAX_MIN: "60"   # search-zone travel-time budget (min)

  # --- Scoring (CLIP + Mapillary) ---
  ENABLE_SCORING: "true"
  SCORING_MIN_IMAGES: "3"
  SCORING_MAX_IMAGES: "6"
  CLIP_MODEL_NAME: openai/clip-vit-base-patch32
