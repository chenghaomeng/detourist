################################################################
###################### Nov 3 ###################################
# apiVersion: v1
# kind: ConfigMap
# metadata:
#   name: har-backend-config
#   namespace: har-local
# data:
#   # --- Orchestrator ---
#   ORCH_MODE: parallel

#   # --- LLM (Ollama) ---
#   LLM_PROVIDER: ollama
#   OLLAMA_BASE_URL: http://detourist-ollama:11434
#   OLLAMA_MODEL: llama3.2:3b-instruct-q4_K_M

#   # --- Redis ---
#   REDIS_URL: redis://har-redis:6379/0

#   # --- CORS ---
#   ALLOW_ORIGINS: "*"

#   # --- Transport & alternatives ---
#   FORCE_TRANSPORT_MODE: driving
#   ALLOW_DIRECTIONS_ALTERNATIVES: "true"
#   MAX_DIRECT_ALTERNATIVES: "3"

#   # --- Geocoding/routing knobs ---
#   MB_ISO_MAX_MIN: "60"

#   # --- Overpass (waypoint search parallelism) ---
#   OVERPASS_MAX_WORKERS: "2"     # (3 is fine too; 2 is friendlier to Overpass)
#   OVERPASS_DELAY_SEC: "0.15"

#   # --- Candidate generation (MORE waypoints & routes) ---
#   WP_TOP_K: "12"                # keep top 12 unique waypoints after dedupe
#   ROUTE_MAX_SINGLE: "6"         # up to 6 single-waypoint routes
#   ROUTE_MAX_PAIRS:  "6"         # up to 6 two-waypoint routes
#   ROUTE_MAX_TRIPLES:"2"         # up to 2 three-waypoint routes
#   MAX_WP_PER_ROUTE: "3"         # safety cap: no route has >3 waypoints
#   RB_MAX_CANDIDATES: "20"       # hard cap on total candidates sent to Mapbox

#   # --- Parallel workers ---
#   RB_MAX_WORKERS: "4"           # parallel Mapbox route builds
#   SCORER_MAX_WORKERS: "2"       # parallel CLIP scoring (keep at 2 on 4Gi)

#   # --- Scoring (CLIP + Mapillary) ---
#   ENABLE_SCORING: "true"
#   SCORING_MIN_IMAGES: "2"       # keep CLIP work bounded
#   SCORING_MAX_IMAGES: "4"
#   CLIP_MODEL_NAME: openai/clip-vit-base-patch32

#   # --- (Optional) perf stability for PyTorch/NumPy BLAS ---
#   OMP_NUM_THREADS: "2"
#   MKL_NUM_THREADS: "2"

##########################################################################
#################### TEST WAYPOINT AND ROUTE NUMBERS NOV 3 ###############
apiVersion: v1
kind: ConfigMap
metadata:
  name: har-backend-config
  namespace: har-local
data:
  ORCH_MODE: parallel

  # LLM / Ollama in-cluster service URL (if you run Ollama inside EKS)
  LLM_PROVIDER: ollama
  OLLAMA_BASE_URL: http://detourist-ollama:11434
  OLLAMA_MODEL: llama3.2:3b-instruct-q4_K_M

  REDIS_URL: redis://har-redis:6379/0
  ALLOW_ORIGINS: "*"

  FORCE_TRANSPORT_MODE: driving
  ALLOW_DIRECTIONS_ALTERNATIVES: "true"
  MAX_DIRECT_ALTERNATIVES: "3"
  MB_ISO_MAX_MIN: "60"

  WQ_NUM_TAGS: "6"
  WQ_MAX_RETURN: "12"

  WP_TOP_K: "8"
  ROUTE_MAX_SINGLE: "6"
  ROUTE_MAX_PAIRS:  "6"
  ROUTE_MAX_TRIPLES:"0"
  MAX_WP_PER_ROUTE: "3"
  RB_MAX_CANDIDATES: "12"

  RB_MAX_WORKERS: "4"
  SCORER_MAX_WORKERS: "2"

  ENABLE_SCORING: "true"   
  SCORING_MIN_IMAGES: "2"
  SCORING_MAX_IMAGES: "4"
  CLIP_MODEL_NAME: openai/clip-vit-base-patch32

  OMP_NUM_THREADS: "2"
  MKL_NUM_THREADS: "2"
